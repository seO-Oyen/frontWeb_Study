<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>키 이벤트로 테이블 셀 동적 이동 (순서)</h2>
    <table id="tab01" border="1" width="200" height="200">
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
    </table>

    <script>
        // id가 tab01인 테이블의 하위에 있는 td 만 선택
        var tdArr = document.querySelectorAll("#tab01 td")
        for (var i = 0; i < tdArr.length; i++) {
            tdArr[i].innerText = i + 1
        }

        var idx = 0;
        var setInt = setInterval(function() {
            // 0.5초마다 전체 cell의 배경색상을 초기화
            for (var i = 0; i < tdArr.length; i++) {
                tdArr[i].style.background = ""
            }

            tdArr[idx++ % 16].style.background = "yellow"
        }, 500)
    </script>

    <h2>키 이벤트로 테이블 셀 동적 이동 (랜덤)</h2>
    <table id="tab02" border="1" width="400" height="200">
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
    </table>

    <script>
        var tdArr2 = document.querySelectorAll("#tab02 td")
        var setInt = setInterval(function() {
            var randomNum = Math.floor(Math.random() * 15)
            for (var i = 0; i < tdArr.length; i++) {
                tdArr2[i].style.background = ""
            }
            tdArr2[randomNum].style.background = "yellow"
        }, 500)
    </script>

    <h2>키 이벤트로 테이블 셀 이동</h2>
    <table id="tab03" border="1" width="200" height="200">
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
    </table>

    <script>
        // this.onkeyup = function() {} 전체화면에서 key 이벤트 발생
        // 37 왼쪽, 38 위, 39 오른쪽, 40 아래
        var tdArr3 = document.querySelectorAll("#tab03 td")
        for (var i = 0; i < tdArr3.length; i++) {
            tdArr3[i].innerText = i;
        }

        var chIdx = 0;
        tdArr3[chIdx].style.background = "pink"
        this.onkeyup = function() {
            for (var i = 0; i < tdArr3.length; i++) {
                tdArr3[i].style.background = "";
            }
            if (event.keyCode == 39) {
                chIdx++;
            }
            if (event.keyCode == 37) {
                chIdx--;
            }
            if (event.keyCode == 38) {
                chIdx -= 4;
            }
            if (event.keyCode == 40) {
                chIdx += 4;
            }
            if (chIdx < 0) chIdx += 16 // 0 이하의 값이 나오지 않게 반복 + 16
            tdArr3[chIdx % 16].style.background = "pink"
        }

    </script>

    <h2>테이블 셀 랜덤 이동/클릭이벤트 처리</h2>
    <table id="tab04" border="1" width="400" height="200">
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td>
        </tr>
    </table>
</body>
</html>